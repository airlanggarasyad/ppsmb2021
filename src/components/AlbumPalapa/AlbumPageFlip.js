import React, { useState, useRef, useEffect } from "react";
import HTMLFlipBook from "react-pageflip";
import AlbumPage from "./AlbumPage";
import SimpleReactLightbox from "simple-react-lightbox";
import { albumPhotoList } from "./AlbumPhotoList";
import styled from "styled-components";
const SlickArrowLeft = ({ ...props }) => (
  <div {...props} className={"slick-prev"} type="button">
    <svg
      width="100%"
      height="100%"
      viewBox="0 0 101 97"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M3 48.5C3 73.5159 24.1511 94 50.5 94C76.8489 94 98 73.5159 98 48.5C98 23.4841 76.8489 3 50.5 3C24.1511 3 3 23.4841 3 48.5Z"
        fill="white"
        stroke="#0593F7"
        stroke-width="6"
      />
      <path
        d="M25.8408 48.496L44.2395 30.8255C44.7647 30.3211 45.4647 30.0443 46.2111 30.0443C46.9583 30.0443 47.6579 30.3215 48.1831 30.8255L49.8536 32.4302C50.3784 32.9338 50.6675 33.6065 50.6675 34.3237C50.6675 35.0406 50.3784 35.7359 49.8536 36.2395L39.12 46.5706H73.221C74.7585 46.5706 75.9734 47.7266 75.9734 49.2037V51.4723C75.9734 52.9493 74.7585 54.2218 73.221 54.2218H38.9983L49.8532 64.6107C50.378 65.1151 50.6671 65.7694 50.6671 66.4867C50.6671 67.2031 50.378 67.867 49.8532 68.371L48.1827 69.9705C47.6575 70.4749 46.9579 70.7498 46.2107 70.7498C45.4643 70.7498 44.7643 70.4714 44.2391 69.967L25.8404 52.2969C25.3139 51.7909 25.0244 51.1155 25.0265 50.3974C25.0248 49.677 25.3139 49.0012 25.8408 48.496Z"
        fill="#0593F7"
      />
    </svg>
  </div>
);
const SlickArrowRight = ({ ...props }) => (
  <div {...props} className={"slick-next "} type="button">
    <svg
      width="100%"
      height="100%"
      viewBox="0 0 97 97"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle
        cx="48.5"
        cy="48.5"
        r="45.5"
        fill="white"
        stroke="#0593F7"
        stroke-width="6"
      />
      <path
        d="M72.1825 48.496L54.5125 30.8255C54.0081 30.3211 53.3358 30.0443 52.619 30.0443C51.9013 30.0443 51.2295 30.3215 50.7251 30.8255L49.1208 32.4302C48.6168 32.9338 48.3391 33.6065 48.3391 34.3237C48.3391 35.0406 48.6168 35.7359 49.1208 36.2395L59.4292 46.5706H26.6787C25.2021 46.5706 24.0354 47.7266 24.0354 49.2037V51.4723C24.0354 52.9493 25.2021 54.2218 26.6787 54.2218H59.5462L49.1212 64.6107C48.6171 65.1151 48.3395 65.7694 48.3395 66.4867C48.3395 67.2031 48.6171 67.867 49.1212 68.371L50.7255 69.9705C51.2299 70.4749 51.9017 70.7498 52.6194 70.7498C53.3362 70.7498 54.0085 70.4714 54.5129 69.967L72.1829 52.2969C72.6885 51.7909 72.9666 51.1155 72.9646 50.3974C72.9662 49.677 72.6885 49.0012 72.1825 48.496Z"
        fill="#0593F7"
      />
    </svg>
  </div>
);

const PageCover = React.forwardRef((props, ref) => {
  const handleFlip = () => {
    props.setOrientation(props.flip.pageFlip().getOrientation());
    props.flip.pageFlip().flipNext();
  };

  return (
    <div ref={ref}>
      <style>
        {`
          .cover{
            height: 100%;
            width: 100%;
          }

          .content{
            padding: 5% 20%;
            text-align: center;
            margin: auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
          }

          .title {
            font-size: calc(0.5rem + 4vmin);
          }

          .subtitle {
            font-size: calc(0.5rem + 2vmin);
          }

          .flipButton{
            position: absolute;
            z-index: 9000;
            top: 50%;
            right: 2%;
            transform: translate(0, -50%);
            border-radius: 50%;
          }

          .lower-ornament-cover {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: auto;
          }
        `}
      </style>
      <div className="cover pattern-bg-darkblue pattern-bg-book">
        <div className="content text-white">
          <h2 className="title text-center font-indonesia-script">
            Potret Palapa
          </h2>
          <h3 className="subtitle text-center font-normal">
            Galeri Dibalik Persembahan Kami untuk Gadjah Mada Muda dan
            Masyarakat
          </h3>
        </div>
        <FlipButton onClick={handleFlip}>
          <SlickArrowRight/>
        </FlipButton>
        <div className="lower-ornament-cover">
          <svg
            width="auto"
            height="100%"
            viewBox="0 0 75 1462"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M73.6797 1461.14L73.6797 1388.6L1.1405 1388.6L1.14048 1461.14L73.6797 1461.14Z"
              fill="#FEBE10"
            />
            <path
              d="M73.6797 1461.14L73.6797 1424.87L37.4101 1424.87L37.4101 1461.14L73.6797 1461.14Z"
              fill="#0075AF"
            />
            <path
              d="M37.4104 1424.87L37.4104 1388.6L1.14079 1388.6L1.14079 1424.87L37.4104 1424.87Z"
              fill="#0075AF"
            />
            <path
              d="M73.7676 1023.92L73.7676 951.295L1.14037 951.295L1.14035 1023.92L73.7676 1023.92Z"
              fill="#C52037"
            />
            <path
              d="M37.4512 987.462L1.28955 951.301L15.3011 951.301L37.4512 973.451L59.6012 951.301L73.6128 951.301L37.4512 987.462Z"
              fill="white"
            />
            <path
              d="M59.6012 1023.93L37.4512 1001.78L15.3011 1023.93L1.28954 1023.93L37.4512 987.772L73.6128 1023.93L59.6012 1023.93Z"
              fill="white"
            />
            <path
              d="M73.5097 987.617L63.4641 977.571L53.4186 987.617L63.4641 997.662L73.5097 987.617Z"
              fill="white"
            />
            <path
              d="M21.4828 987.615L11.4373 977.57L1.39171 987.615L11.4373 997.661L21.4828 987.615Z"
              fill="white"
            />
            <path
              d="M27.4084 1023.93L37.4511 1013.89L47.4938 1023.93L27.4084 1023.93Z"
              fill="white"
            />
            <path
              d="M37.4511 961.343L27.4084 951.301L47.4938 951.301L37.4511 961.343Z"
              fill="white"
            />
            <path
              d="M37.4514 987.463L1.28979 951.302L15.3013 951.302L37.4514 973.452L59.6015 951.302L73.613 951.302L37.4514 987.463Z"
              fill="white"
            />
            <path
              d="M59.6012 1023.93L37.4512 1001.78L15.3011 1023.93L1.28954 1023.93L37.4512 987.772L73.6128 1023.93L59.6012 1023.93Z"
              fill="white"
            />
            <path
              d="M73.6796 1315.84L1.14038 1315.84L1.14037 1388.38L73.6795 1388.38L73.6796 1315.84Z"
              fill="#0075AF"
            />
            <path
              d="M73.6854 1336.87L73.6854 1351.88L37.4158 1388.15L1.14624 1351.88L1.14624 1336.87L37.4158 1373.14L73.6854 1336.87Z"
              fill="#FEBE10"
            />
            <path
              d="M73.6854 1315.62L73.6854 1330.64L37.4158 1366.91L1.14624 1330.64L1.14624 1315.62L37.4158 1351.88L73.6854 1315.62Z"
              fill="#FEBE10"
            />
            <path
              d="M1.14038 1023.93L73.7442 1096.53L1.14037 1096.53L1.14038 1023.93Z"
              fill="#448BCA"
            />
            <path
              d="M73.7442 1096.53L1.14038 1023.93L73.7442 1023.93L73.7442 1096.53Z"
              fill="#0075AF"
            />
            <path
              d="M37.4423 1085.38C51.3318 1085.38 62.5915 1074.12 62.5915 1060.23C62.5915 1046.34 51.3318 1035.08 37.4423 1035.08C23.5527 1035.08 12.293 1046.34 12.293 1060.23C12.293 1074.12 23.5527 1085.38 37.4423 1085.38Z"
              fill="#0F3A5E"
              stroke="white"
              stroke-width="17.37"
              stroke-miterlimit="10"
            />
            <path
              d="M74.1258 1242.63L1.14041 1242.63L37.6361 1279.13L74.1257 1315.62L74.1258 1242.63Z"
              fill="#448BCA"
            />
            <path
              d="M1.14039 1315.62L74.1257 1315.62L37.6361 1279.13L1.14041 1242.63L1.14039 1315.62Z"
              fill="#EE225A"
            />
            <path
              d="M37.6359 1247.87C20.3713 1247.87 6.37559 1261.86 6.37559 1279.13C6.37558 1296.39 20.3713 1310.39 37.6359 1310.39C54.9005 1310.39 68.8962 1296.39 68.8962 1279.13C68.8963 1261.86 54.9005 1247.87 37.6359 1247.87Z"
              fill="white"
            />
            <path
              d="M74.2446 1242.76L74.2446 1169.65L1.14029 1169.65L1.14028 1242.76L74.2446 1242.76Z"
              fill="#EE225A"
            />
            <path
              d="M55.8892 1242.76L74.2445 1242.76L74.2445 1224.4C74.2445 1219.57 72.328 1214.94 68.9165 1211.53C65.5051 1208.12 60.8782 1206.21 56.0537 1206.21C60.8782 1206.21 65.5051 1204.29 68.9165 1200.88C72.328 1197.47 74.2445 1192.84 74.2445 1188.01L74.2445 1169.65L55.8892 1169.65C51.0647 1169.65 46.4378 1171.57 43.0264 1174.98C39.6149 1178.39 37.6984 1183.02 37.6984 1187.84C37.6984 1185.45 37.2277 1183.09 36.3131 1180.88C35.3986 1178.67 34.0581 1176.67 32.3683 1174.98C30.6785 1173.29 28.6724 1171.95 26.4647 1171.04C24.257 1170.12 21.8909 1169.65 19.5015 1169.65L1.14624 1169.65L1.14624 1188.01C1.14624 1192.84 3.06276 1197.47 6.4742 1200.88C9.88565 1204.29 14.5126 1206.21 19.3371 1206.21C14.5126 1206.21 9.88565 1208.12 6.4742 1211.53C3.06276 1214.94 1.14623 1219.57 1.14623 1224.4L1.14623 1242.76L19.5015 1242.76C24.3276 1242.76 28.9561 1240.84 32.3687 1237.43C35.7812 1234.01 37.6984 1229.39 37.6984 1224.56C37.6976 1226.95 38.1675 1229.32 39.0814 1231.52C39.9952 1233.73 41.335 1235.74 43.0242 1237.43C44.7135 1239.12 46.7191 1240.46 48.9265 1241.37C51.1339 1242.29 53.4999 1242.76 55.8892 1242.76ZM19.3492 1206.22C24.219 1206.22 28.8893 1204.28 32.3327 1200.84C35.7761 1197.4 37.7106 1192.73 37.7106 1187.86C37.7098 1190.27 38.184 1192.65 39.1061 1194.88C40.0281 1197.11 41.3801 1199.13 43.0846 1200.84C44.7891 1202.54 46.8128 1203.9 49.0402 1204.82C51.2676 1205.74 53.6549 1206.22 56.0659 1206.22C53.6552 1206.22 51.268 1206.69 49.0407 1207.61C46.8133 1208.53 44.7895 1209.89 43.0849 1211.59C41.3803 1213.3 40.0283 1215.32 39.1062 1217.55C38.184 1219.77 37.7098 1222.16 37.7106 1224.57C37.7122 1222.16 37.238 1219.77 36.3151 1217.54C35.3923 1215.31 34.0389 1213.28 32.3323 1211.58C30.6258 1209.87 28.5996 1208.52 26.3697 1207.6C24.1399 1206.68 21.7501 1206.2 19.3371 1206.21L19.3492 1206.22Z"
              fill="white"
            />
            <path
              d="M55.8892 1242.76L74.2445 1242.76L74.2445 1224.4C74.2445 1219.57 72.328 1214.94 68.9165 1211.53C65.5051 1208.12 60.8782 1206.21 56.0537 1206.21C60.8782 1206.21 65.5051 1204.29 68.9165 1200.88C72.328 1197.47 74.2445 1192.84 74.2445 1188.01L74.2445 1169.65L55.8892 1169.65C51.0647 1169.65 46.4378 1171.57 43.0264 1174.98C39.6149 1178.39 37.6984 1183.02 37.6984 1187.84C37.6984 1185.45 37.2277 1183.09 36.3131 1180.88C35.3986 1178.67 34.0581 1176.67 32.3683 1174.98C30.6785 1173.29 28.6724 1171.95 26.4647 1171.04C24.257 1170.12 21.8909 1169.65 19.5015 1169.65L1.14624 1169.65L1.14624 1188.01C1.14624 1192.84 3.06276 1197.47 6.4742 1200.88C9.88565 1204.29 14.5126 1206.21 19.3371 1206.21C14.5126 1206.21 9.88565 1208.12 6.4742 1211.53C3.06276 1214.94 1.14623 1219.57 1.14623 1224.4L1.14623 1242.76L19.5015 1242.76C24.3276 1242.76 28.9561 1240.84 32.3687 1237.43C35.7812 1234.01 37.6984 1229.39 37.6984 1224.56C37.6976 1226.95 38.1675 1229.32 39.0814 1231.52C39.9952 1233.73 41.335 1235.74 43.0242 1237.43C44.7135 1239.12 46.7191 1240.46 48.9265 1241.37C51.1339 1242.29 53.4999 1242.76 55.8892 1242.76ZM19.3492 1206.22C24.219 1206.22 28.8893 1204.28 32.3327 1200.84C35.7761 1197.4 37.7106 1192.73 37.7106 1187.86C37.7098 1190.27 38.184 1192.65 39.1061 1194.88C40.0281 1197.11 41.3801 1199.13 43.0846 1200.84C44.7891 1202.54 46.8128 1203.9 49.0402 1204.82C51.2676 1205.74 53.6549 1206.22 56.0659 1206.22C53.6552 1206.22 51.268 1206.69 49.0407 1207.61C46.8133 1208.53 44.7895 1209.89 43.0849 1211.59C41.3803 1213.3 40.0283 1215.32 39.1062 1217.55C38.184 1219.77 37.7098 1222.16 37.7106 1224.57C37.7122 1222.16 37.238 1219.77 36.3151 1217.54C35.3923 1215.31 34.0389 1213.28 32.3323 1211.58C30.6258 1209.87 28.5996 1208.52 26.3697 1207.6C24.1399 1206.68 21.7501 1206.2 19.3371 1206.21L19.3492 1206.22Z"
              fill="white"
            />
            <path
              d="M74.2131 1096.56L1.14038 1096.56L1.14037 1169.63L74.2131 1169.63L74.2131 1096.56Z"
              fill="#EE225A"
            />
            <path
              d="M37.5794 1154.32C49.3564 1154.32 58.9034 1144.78 58.9035 1133C58.9035 1121.22 49.3564 1111.68 37.5794 1111.68C25.8025 1111.68 16.2554 1121.22 16.2554 1133C16.2554 1144.78 25.8025 1154.32 37.5794 1154.32Z"
              fill="#FEBE10"
            />
            <path
              d="M37.5796 1144.6C43.9875 1144.6 49.1821 1139.41 49.1821 1133C49.1821 1126.59 43.9875 1121.4 37.5796 1121.4C31.1717 1121.4 25.977 1126.59 25.977 1133C25.977 1139.41 31.1717 1144.6 37.5796 1144.6Z"
              fill="#0F3A5E"
              stroke="white"
              stroke-width="3.31"
              stroke-miterlimit="10"
            />
            <path
              d="M74.4325 951.426L38.2837 915.282L2.14037 951.426L74.4325 951.426Z"
              fill="#FEBE10"
            />
            <path
              d="M2.14038 879.133L2.14037 951.425L38.2837 915.282L2.14038 879.133Z"
              fill="#F47C20"
            />
            <path
              d="M74.4327 951.425L74.4327 879.133L38.2839 915.282L74.4327 951.425Z"
              fill="#F47C20"
            />
            <path
              d="M2.14038 879.133L38.2837 915.282L74.4325 879.133L2.14038 879.133Z"
              fill="#FEBE10"
            />
            <path
              d="M1.14405 0.13343L1.14404 73.1299L74.1405 73.1299L74.1405 0.133437L1.14405 0.13343Z"
              fill="#FEBE10"
            />
            <path
              d="M1.14405 0.133121L1.14404 36.6313L37.6423 36.6314L37.6423 0.133125L1.14405 0.133121Z"
              fill="#0075AF"
            />
            <path
              d="M37.6418 36.6317L37.6418 73.1299L74.1401 73.1299L74.1401 36.6317L37.6418 36.6317Z"
              fill="#0075AF"
            />
            <path
              d="M1.05543 440.107L1.05542 513.192L74.1404 513.192L74.1404 440.107L1.05543 440.107Z"
              fill="#C52037"
            />
            <path
              d="M37.6012 476.797L73.9907 513.187L59.8909 513.187L37.6012 490.897L15.3115 513.187L1.21163 513.187L37.6012 476.797Z"
              fill="white"
            />
            <path
              d="M15.311 440.102L37.6007 462.391L59.8904 440.102L73.9902 440.102L37.6007 476.485L1.21115 440.102L15.311 440.102Z"
              fill="white"
            />
            <path
              d="M1.31471 476.642L11.4236 486.75L21.5325 476.642L11.4236 466.533L1.31471 476.642Z"
              fill="white"
            />
            <path
              d="M53.6697 476.643L63.7786 486.751L73.8874 476.643L63.7786 466.534L53.6697 476.643Z"
              fill="white"
            />
            <path
              d="M47.7068 440.101L37.6008 450.207L27.4948 440.101L47.7068 440.101Z"
              fill="white"
            />
            <path
              d="M37.6008 503.081L47.7068 513.187L27.4948 513.187L37.6008 503.081Z"
              fill="white"
            />
            <path
              d="M37.6007 476.797L73.9902 513.187L59.8904 513.187L37.6007 490.897L15.311 513.187L1.21114 513.187L37.6007 476.797Z"
              fill="white"
            />
            <path
              d="M15.311 440.102L37.6007 462.391L59.8904 440.102L73.9902 440.102L37.6007 476.485L1.21115 440.102L15.311 440.102Z"
              fill="white"
            />
            <path
              d="M1.14397 586.13L74.1404 586.13L74.1404 513.133L1.14397 513.133L1.14397 586.13Z"
              fill="#0075AF"
            />
            <path
              d="M1.13786 564.968L1.13786 549.855L37.6361 513.357L74.1343 549.855L74.1343 564.968L37.6361 528.47L1.13786 564.968Z"
              fill="#FEBE10"
            />
            <path
              d="M1.13786 586.353L1.13786 571.234L37.6361 534.736L74.1343 571.234L74.1343 586.353L37.6361 549.855L1.13786 586.353Z"
              fill="#FEBE10"
            />
            <path
              d="M74.1404 440.102L1.07891 367.04L74.1404 367.04L74.1404 440.102Z"
              fill="#448BCA"
            />
            <path
              d="M1.07891 367.04L74.1404 440.102L1.0789 440.102L1.07891 367.04Z"
              fill="#0075AF"
            />
            <path
              d="M37.6094 378.263C23.6323 378.263 12.3016 389.593 12.3016 403.571C12.3016 417.548 23.6323 428.878 37.6094 428.878C51.5865 428.878 62.9172 417.548 62.9172 403.571C62.9172 389.593 51.5866 378.263 37.6094 378.263Z"
              fill="#0F3A5E"
              stroke="white"
              stroke-width="17.37"
              stroke-miterlimit="10"
            />
            <path
              d="M0.695056 146.585L74.1405 146.585L37.4147 109.859L0.695068 73.1333L0.695056 146.585Z"
              fill="#448BCA"
            />
            <path
              d="M74.1405 73.1333L0.695068 73.1333L37.4147 109.859L74.1405 146.585L74.1405 73.1333Z"
              fill="#EE225A"
            />
            <path
              d="M37.4144 141.317C54.7878 141.317 68.8718 127.233 68.8718 109.859C68.8718 92.4858 54.7878 78.4019 37.4144 78.4019C20.041 78.4019 5.95703 92.4858 5.95703 109.859C5.95702 127.233 20.041 141.317 37.4144 141.317Z"
              fill="white"
            />
            <path
              d="M0.575202 146.134L0.575195 219.699L74.1403 219.699L74.1403 146.134L0.575202 146.134Z"
              fill="#EE225A"
            />
            <path
              d="M19.0452 146.133L0.574279 146.133L0.574277 164.61C0.574277 169.465 2.50288 174.121 5.93583 177.554C9.36878 180.987 14.0248 182.916 18.8798 182.916C14.0248 182.916 9.36878 184.844 5.93582 188.277C2.50288 191.71 0.574274 196.366 0.574274 201.221L0.574272 219.698L19.0452 219.698C23.9002 219.698 28.5562 217.77 31.9892 214.337C35.4221 210.904 37.3507 206.248 37.3507 201.393C37.3507 203.797 37.8244 206.178 38.7447 208.399C39.6651 210.621 41.014 212.639 42.7144 214.339C44.4149 216.039 46.4336 217.387 48.6552 218.307C50.8769 219.226 53.2579 219.699 55.6623 219.698L74.1333 219.698L74.1333 201.221C74.1333 196.366 72.2047 191.71 68.7717 188.277C65.3388 184.844 60.6827 182.916 55.8278 182.916C60.6827 182.916 65.3388 180.987 68.7718 177.554C72.2047 174.121 74.1333 169.465 74.1333 164.61L74.1333 146.133L55.6623 146.133C50.8058 146.133 46.1482 148.062 42.7141 151.496C39.28 154.931 37.3507 159.588 37.3507 164.445C37.3515 162.04 36.8786 159.659 35.9591 157.438C35.0395 155.216 33.6912 153.197 31.9913 151.497C30.2914 149.796 28.2732 148.447 26.0519 147.527C23.8305 146.607 21.4497 146.133 19.0452 146.133ZM55.8156 182.903C50.9151 182.903 46.2154 184.85 42.7503 188.315C39.2852 191.78 37.3385 196.48 37.3385 201.38C37.3393 198.954 36.8621 196.552 35.9342 194.31C35.0063 192.068 33.6459 190.031 31.9306 188.316C30.2153 186.6 28.1789 185.239 25.9375 184.31C23.6961 183.381 21.2937 182.903 18.8675 182.903C21.2934 182.904 23.6956 182.427 25.937 181.499C28.1783 180.571 30.2149 179.211 31.9302 177.495C33.6456 175.78 35.0061 173.743 35.9341 171.502C36.8621 169.261 37.3393 166.858 37.3385 164.432C37.3369 166.861 37.814 169.265 38.7427 171.509C39.6714 173.753 41.0334 175.791 42.7506 177.508C44.4679 179.225 46.5069 180.586 48.7508 181.514C50.9947 182.442 53.3996 182.918 55.8278 182.916L55.8156 182.903Z"
              fill="white"
            />
            <path
              d="M19.0452 146.133L0.574279 146.133L0.574277 164.61C0.574277 169.465 2.50288 174.121 5.93583 177.554C9.36878 180.987 14.0248 182.916 18.8798 182.916C14.0248 182.916 9.36878 184.844 5.93582 188.277C2.50288 191.71 0.574274 196.366 0.574274 201.221L0.574272 219.698L19.0452 219.698C23.9002 219.698 28.5562 217.77 31.9892 214.337C35.4221 210.904 37.3507 206.248 37.3507 201.393C37.3507 203.797 37.8244 206.178 38.7447 208.399C39.6651 210.621 41.014 212.639 42.7144 214.339C44.4149 216.039 46.4336 217.387 48.6552 218.307C50.8769 219.226 53.2579 219.699 55.6623 219.698L74.1333 219.698L74.1333 201.221C74.1333 196.366 72.2047 191.71 68.7717 188.277C65.3388 184.844 60.6827 182.916 55.8278 182.916C60.6827 182.916 65.3388 180.987 68.7718 177.554C72.2047 174.121 74.1333 169.465 74.1333 164.61L74.1333 146.133L55.6623 146.133C50.8058 146.133 46.1482 148.062 42.7141 151.496C39.28 154.931 37.3507 159.588 37.3507 164.445C37.3515 162.04 36.8786 159.659 35.9591 157.438C35.0395 155.216 33.6912 153.197 31.9913 151.497C30.2914 149.796 28.2732 148.447 26.0519 147.527C23.8305 146.607 21.4497 146.133 19.0452 146.133ZM55.8156 182.903C50.9151 182.903 46.2154 184.85 42.7503 188.315C39.2852 191.78 37.3385 196.48 37.3385 201.38C37.3393 198.954 36.8621 196.552 35.9342 194.31C35.0063 192.068 33.6459 190.031 31.9306 188.316C30.2153 186.6 28.1789 185.239 25.9375 184.31C23.6961 183.381 21.2937 182.903 18.8675 182.903C21.2934 182.904 23.6956 182.427 25.937 181.499C28.1783 180.571 30.2149 179.211 31.9302 177.495C33.6456 175.78 35.0061 173.743 35.9341 171.502C36.8621 169.261 37.3393 166.858 37.3385 164.432C37.3369 166.861 37.814 169.265 38.7427 171.509C39.6714 173.753 41.0334 175.791 42.7506 177.508C44.4679 179.225 46.5069 180.586 48.7508 181.514C50.9947 182.442 53.3996 182.918 55.8278 182.916L55.8156 182.903Z"
              fill="white"
            />
            <path
              d="M0.60704 367.011L74.1404 367.011L74.1404 293.478L0.607047 293.478L0.60704 367.011Z"
              fill="#EE225A"
            />
            <path
              d="M37.4717 308.884C25.6205 308.884 16.0133 318.491 16.0133 330.342C16.0133 342.194 25.6205 351.801 37.4717 351.801C49.3229 351.801 58.9302 342.194 58.9302 330.342C58.9302 318.491 49.3229 308.884 37.4717 308.884Z"
              fill="#FEBE10"
            />
            <path
              d="M37.4718 318.667C31.0235 318.667 25.7962 323.894 25.7962 330.342C25.7962 336.791 31.0235 342.018 37.4718 342.018C43.9201 342.018 49.1475 336.791 49.1475 330.342C49.1475 323.894 43.9201 318.667 37.4718 318.667Z"
              fill="#0F3A5E"
              stroke="white"
              stroke-width="3.31"
              stroke-miterlimit="10"
            />
            <path
              d="M1.39254 586.134L37.7692 622.505L74.1404 586.134L1.39254 586.134Z"
              fill="#FEBE10"
            />
            <path
              d="M74.1401 658.881L74.1401 586.134L37.769 622.505L74.1401 658.881Z"
              fill="#F47C20"
            />
            <path
              d="M1.39191 586.134L1.3919 658.881L37.7686 622.505L1.39191 586.134Z"
              fill="#F47C20"
            />
            <path
              d="M74.1401 658.881L37.769 622.505L1.3923 658.881L74.1401 658.881Z"
              fill="#FEBE10"
            />
            <path
              d="M1.14405 220.134L1.14404 293.13L74.1405 293.13L74.1405 220.134L1.14405 220.134Z"
              fill="#FEBE10"
            />
            <path
              d="M1.14405 220.134L1.14404 256.632L37.6423 256.632L37.6423 220.134L1.14405 220.134Z"
              fill="#0075AF"
            />
            <path
              d="M37.6418 256.632L37.6418 293.13L74.1401 293.13L74.1401 256.632L37.6418 256.632Z"
              fill="#0075AF"
            />
            <path
              d="M1.14397 732.027L74.1404 732.027L74.1404 659.031L1.14397 659.031L1.14397 732.027Z"
              fill="#0075AF"
            />
            <path
              d="M1.13786 710.866L1.13786 695.753L37.6361 659.255L74.1343 695.753L74.1343 710.866L37.6361 674.368L1.13786 710.866Z"
              fill="#FEBE10"
            />
            <path
              d="M1.13811 732.251L1.13811 717.132L37.6363 680.634L74.1345 717.132L74.1345 732.251L37.6363 695.753L1.13811 732.251Z"
              fill="#FEBE10"
            />
            <path
              d="M0.695056 805.696L74.1405 805.696L37.4147 768.97L0.695068 732.245L0.695056 805.696Z"
              fill="#448BCA"
            />
            <path
              d="M74.1405 732.245L0.695068 732.245L37.4147 768.97L74.1405 805.696L74.1405 732.245Z"
              fill="#EE225A"
            />
            <path
              d="M37.4144 800.428C54.7878 800.428 68.8718 786.344 68.8718 768.971C68.8718 751.597 54.7878 737.513 37.4144 737.513C20.041 737.513 5.95703 751.597 5.95703 768.971C5.95702 786.344 20.041 800.428 37.4144 800.428Z"
              fill="white"
            />
            <path
              d="M0.575202 805.568L0.575195 879.133L74.1403 879.133L74.1403 805.568L0.575202 805.568Z"
              fill="#EE225A"
            />
            <path
              d="M19.0462 805.568L0.575255 805.568L0.575254 824.045C0.575253 828.9 2.50386 833.556 5.9368 836.989C9.36975 840.422 14.0258 842.351 18.8807 842.351C14.0258 842.351 9.36975 844.279 5.9368 847.712C2.50386 851.145 0.575251 855.801 0.57525 860.656L0.575249 879.133L19.0462 879.133C23.9011 879.133 28.5572 877.205 31.9901 873.772C35.4231 870.339 37.3517 865.683 37.3517 860.828C37.3517 863.232 37.8254 865.613 38.7457 867.834C39.666 870.056 41.015 872.074 42.7154 873.774C44.4159 875.474 46.4346 876.822 48.6562 877.742C50.8779 878.661 53.2589 879.134 55.6633 879.133L74.1343 879.133L74.1343 860.656C74.1343 855.801 72.2057 851.145 68.7727 847.712C65.3398 844.279 60.6837 842.351 55.8288 842.351C60.6837 842.351 65.3398 840.422 68.7727 836.989C72.2057 833.556 74.1343 828.9 74.1343 824.045L74.1343 805.568L55.6633 805.568C50.8068 805.568 46.1491 807.497 42.7151 810.932C39.281 814.366 37.3517 819.023 37.3517 823.88C37.3525 821.475 36.8796 819.094 35.96 816.873C35.0405 814.651 33.6922 812.632 31.9923 810.932C30.2924 809.231 28.2742 807.882 26.0528 806.962C23.8315 806.042 21.4506 805.568 19.0462 805.568ZM55.8165 842.338C50.9161 842.338 46.2164 844.285 42.7513 847.75C39.2861 851.215 37.3394 855.915 37.3394 860.816C37.3402 858.389 36.8631 855.987 35.9352 853.745C35.0073 851.503 33.6469 849.466 31.9316 847.751C30.2163 846.035 28.1798 844.674 25.9384 843.745C23.697 842.816 21.2946 842.338 18.8685 842.338C21.2943 842.339 23.6966 841.862 25.938 840.934C28.1793 840.006 30.2159 838.646 31.9312 836.93C33.6466 835.215 35.0071 833.178 35.9351 830.937C36.863 828.696 37.3402 826.293 37.3394 823.868C37.3378 826.296 37.815 828.7 38.7437 830.944C39.6724 833.188 41.0343 835.226 42.7516 836.943C44.4689 838.66 46.5079 840.021 48.7518 840.949C50.9957 841.877 53.4006 842.353 55.8288 842.351L55.8165 842.338Z"
              fill="white"
            />
            <path
              d="M19.0462 805.568L0.575255 805.568L0.575254 824.045C0.575253 828.9 2.50386 833.556 5.9368 836.989C9.36975 840.422 14.0258 842.351 18.8807 842.351C14.0258 842.351 9.36975 844.279 5.9368 847.712C2.50386 851.145 0.575251 855.801 0.57525 860.656L0.575249 879.133L19.0462 879.133C23.9011 879.133 28.5572 877.205 31.9901 873.772C35.4231 870.339 37.3517 865.683 37.3517 860.828C37.3517 863.232 37.8254 865.613 38.7457 867.834C39.666 870.056 41.015 872.074 42.7154 873.774C44.4159 875.474 46.4346 876.822 48.6562 877.742C50.8779 878.661 53.2589 879.134 55.6633 879.133L74.1343 879.133L74.1343 860.656C74.1343 855.801 72.2057 851.145 68.7727 847.712C65.3398 844.279 60.6837 842.351 55.8288 842.351C60.6837 842.351 65.3398 840.422 68.7727 836.989C72.2057 833.556 74.1343 828.9 74.1343 824.045L74.1343 805.568L55.6633 805.568C50.8068 805.568 46.1491 807.497 42.7151 810.932C39.281 814.366 37.3517 819.023 37.3517 823.88C37.3525 821.475 36.8796 819.094 35.96 816.873C35.0405 814.651 33.6922 812.632 31.9923 810.932C30.2924 809.231 28.2742 807.882 26.0528 806.962C23.8315 806.042 21.4506 805.568 19.0462 805.568ZM55.8165 842.338C50.9161 842.338 46.2164 844.285 42.7513 847.75C39.2861 851.215 37.3394 855.915 37.3394 860.816C37.3402 858.389 36.8631 855.987 35.9352 853.745C35.0073 851.503 33.6469 849.466 31.9316 847.751C30.2163 846.035 28.1798 844.674 25.9384 843.745C23.697 842.816 21.2946 842.338 18.8685 842.338C21.2943 842.339 23.6966 841.862 25.938 840.934C28.1793 840.006 30.2159 838.646 31.9312 836.93C33.6466 835.215 35.0071 833.178 35.9351 830.937C36.863 828.696 37.3402 826.293 37.3394 823.868C37.3378 826.296 37.815 828.7 38.7437 830.944C39.6724 833.188 41.0343 835.226 42.7516 836.943C44.4689 838.66 46.5079 840.021 48.7518 840.949C50.9957 841.877 53.4006 842.353 55.8288 842.351L55.8165 842.338Z"
              fill="white"
            />
          </svg>
        </div>
      </div>
    </div>
  );
});

const LastPage = React.forwardRef((props, ref) => {
  const handleFlip = () => {
    props.flip.pageFlip().flipPrev();
  };

  return (
    <div ref={ref}>
      <div className="last pattern-bg-darkblue pattern-bg-book">
        <div className="contentLast">
          <h2>{props.children}</h2>
        </div>
        <FlipButton onClick={handleFlip}>
          <SlickArrowLeft/>
        </FlipButton>
      </div>
    </div>
  );
});

const Page = React.forwardRef((props, ref) => {
  //kiri
  const handleFlipPrev = () => {
    props.flip.pageFlip().flipPrev();
  };

  //kanan
  const handleFlipNext = () => {
    props.flip.pageFlip().flipNext();
  };
  const handleFlip = () => {
    if (props.count % 2 === 0) {
      handleFlipPrev();
    } else {
      handleFlipNext();
    }
  };

  return (
    <>
    <div ref={ref}>
      <SimpleReactLightbox>
        <AlbumPage {...props} />
      </SimpleReactLightbox>
      {(props.orientation === 'landscape') ? 

      <FlipButton>
        {(props.count % 2 === 0 ) ? 
        <SlickArrowLeft onClick={handleFlip}/> : 
        <SlickArrowRight onClick={handleFlip}/>}
      </FlipButton> : 
      
      <FlipButton>
        <SlickArrowLeft onClick={handleFlipPrev}/>
        <SlickArrowRight onClick={handleFlipNext}/>
      </FlipButton> 
      }
      <BookNav>
          <input placeHolder={props.count + 1} type="number" id="currentPage" name="currentPage" min="0" max="100"/>
          <span>&nbsp; of {props.pageMax + 1}</span>
      </BookNav>
    </div>
    </>
  );
});

function AlbumPageFlip() {
  const [orientation, setOrientation] = useState();
  const flipRef = useRef();

  // render galeri
  const photoPerPage = 4;
  let pageCount = Math.ceil(albumPhotoList.length / photoPerPage);
  let start = 0;
  let end = 4;
  let pageList = [];
  for (let i = 0; i < pageCount; i++) {
    pageList.push(
      <Page
        key={i}
        photoList={albumPhotoList.slice(start, end)}
        count={i}
        pageMax={pageCount - 1}
        flip={flipRef.current}
        orientation={orientation}
      />
    );
    start = end;
    end = end + photoPerPage;
  }
  // console.log(pageList);

  return (
    <>
      <HTMLFlipBook
        ref={flipRef}
        width={550}
        height={window.screen.height * 0.7}
        size="stretch"
        minWidth={315}
        maxWidth={1000}
        minHeight={400}
        maxHeight={1533}
        maxShadowOpacity={0.5}
        mobileScrollSupport={true}
        showCover={true}
        disableFlipByClick={true}
        className="album-palapa"
      >
        <PageCover
          flip={flipRef.current}
          setOrientation={setOrientation}
        ></PageCover>
        {pageList}
        <LastPage flip={flipRef.current}></LastPage>
      </HTMLFlipBook>
    </>
  );
}

const BookNav = styled.div`
    position: absolute;
    bottom: 5%;
    left: 50%;
    display: flex;
    justify-content: center;

    input{
      text-align: center;
    }
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
`
const FlipButton = styled.div`
   position: absolute;
    top: 50%;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 3vmin;
    font-size: calc(0.5rem + 1.5vmin);

  .slick-prev:before {
    content: "";
  }
  .slick-next:before {
    content: "";
  }
  .slick-prev {
    left: 2vw;
  }
  .slick-next {
    right: 2vw;
  }
  .slick-prev,
  .slick-next {
    z-index: 3;
    width: 5vmin;
    height: 5vmin;
    padding: 0;
  }
`

export default AlbumPageFlip;
